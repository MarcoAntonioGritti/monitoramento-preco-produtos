{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Produtos Encontrados</title>
  <link rel="stylesheet" href="{% static 'scraper/estilo_pagina_resultado_busca.css' %}">
</head>
<body>
  <div class="container">
    <div class="titulo-container">
      <h1 class="titulo">PRODUTOS ENCONTRADOS</h1>
    </div>

    <div class="carregando"></div>
    
    <a href="javascript:history.back()" class="seta-voltar">Voltar</a>

    <ul class="lista-produtos" style="display: none;">
      {% for produto in produtos %}
        <li class="produto">
          <img class="imagem-produto" src="{{ produto.imagem_url }}" alt="Imagem do Produto">
          <strong class="titulo-produto">{{ produto.titulo }}</strong>
          <p class="fonte-de-pesquisa">{{ produto.fonte }}</p>
          <div class="preco">Pre√ßo: {{ produto.valor }}</div>
          <a href="{{ produto.link }}" target="_blank">Ver Produto</a>
        </li>
      {% empty %}
        <li class="nenhum-produto">Nenhum produto encontrado.</li>
      {% endfor %}
    </ul>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const carregando = document.querySelector(".carregando");
      const listaProdutos = document.querySelector(".lista-produtos");

      carregando.style.display = "block";

      setTimeout(() => {
        carregando.style.display = "none";
        listaProdutos.style.display = "grid";
      }, 2000);
    });
  </script>
</body>
</html>
